<!DOCTYPE html>
<html lang="en"><head>
<script src="week-02-icl_files/libs/clipboard/clipboard.min.js"></script>
<script src="week-02-icl_files/libs/quarto-html/tabby.min.js"></script>
<script src="week-02-icl_files/libs/quarto-html/popper.min.js"></script>
<script src="week-02-icl_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="week-02-icl_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="week-02-icl_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="week-02-icl_files/libs/quarto-html/quarto-syntax-highlighting-5efccf03a38e129e6e5ca76dade02d11.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.40">

  <meta name="author" content="Amit Arora">
  <title>Week 2: In-context learning (ICL)</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="week-02-icl_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="week-02-icl_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #cbccc6; background-color: #1f2430; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #cbccc6; } /* Normal */
    code span.al { color: #ff3333; background-color: #332430; font-weight: bold; } /* Alert */
    code span.an { color: #ffe6b3; } /* Annotation */
    code span.at { color: #73d0ff; } /* Attribute */
    code span.bn { color: #ffcc66; } /* BaseN */
    code span.bu { color: #95e6cb; } /* BuiltIn */
    code span.cf { color: #ffa759; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #95e6cb; } /* Char */
    code span.cn { color: #d4bfff; } /* Constant */
    code span.co { color: #5c6773; font-style: italic; } /* Comment */
    code span.cv { color: #d4bfff; } /* CommentVar */
    code span.do { color: #5c6773; } /* Documentation */
    code span.dt { color: #ffa759; } /* DataType */
    code span.dv { color: #ffcc66; } /* DecVal */
    code span.er { color: #ff3333; text-decoration: underline; } /* Error */
    code span.ex { color: #73d0ff; font-weight: bold; } /* Extension */
    code span.fl { color: #ffcc66; } /* Float */
    code span.fu { color: #ffd580; } /* Function */
    code span.im { color: #bae67e; } /* Import */
    code span.in { color: #ffcc66; } /* Information */
    code span.kw { color: #ffa759; font-weight: bold; } /* Keyword */
    code span.op { color: #f29e74; } /* Operator */
    code span.ot { color: #5ccfe6; } /* Other */
    code span.pp { color: #f28779; } /* Preprocessor */
    code span.re { color: #73d0ff; background-color: #2a4254; } /* RegionMarker */
    code span.sc { color: #95e6cb; } /* SpecialChar */
    code span.ss { color: #95e6cb; } /* SpecialString */
    code span.st { color: #bae67e; } /* String */
    code span.va { color: #5ccfe6; } /* Variable */
    code span.vs { color: #bae67e; } /* VerbatimString */
    code span.wa { color: #f28779; } /* Warning */
  </style>
  <link rel="stylesheet" href="week-02-icl_files/libs/revealjs/dist/theme/quarto-138bffa59e0b8e1d219a851a91faec2e.css">
  <link href="week-02-icl_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="week-02-icl_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="week-02-icl_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="week-02-icl_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Week 2: In-context learning (ICL)</h1>
  <p class="subtitle">Applied Generative AI for AI Developers</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Amit Arora 
</div>
</div>
</div>

</section>
<section id="what-is-in-context-learning-icl" class="slide level2">
<h2>What is In-Context Learning (ICL)?</h2>
<ul>
<li><strong>Definition</strong>: A paradigm where models learn to perform tasks by being provided examples or instructions directly in the input (context).</li>
<li><strong>Impact</strong>: Reduces or eliminates the need for fine-tuning on specific tasks.</li>
<li><strong>Analogy</strong>: Teaching by showing examples without altering the student’s core knowledge.</li>
<li><strong>Key Feature</strong>: Enables models to generalize without retraining.</li>
</ul>
</section>
<section id="why-use-in-context-learning" class="slide level2">
<h2>Why Use In-Context Learning?</h2>
<ul>
<li><strong>Advantages</strong>:
<ul>
<li>No need for model retraining or additional compute-intensive fine-tuning.</li>
<li>Enables quick adaptation to novel tasks.</li>
</ul></li>
<li><strong>Applications</strong>:
<ul>
<li>Rapid prototyping.</li>
<li>Tasks with small or specialized datasets.</li>
</ul></li>
</ul>
</section>
<section id="mechanism-of-icl" class="slide level2">
<h2>Mechanism of ICL</h2>
<ul>
<li><strong>Few-Shot Approach</strong>: The model is given examples of inputs and desired outputs as part of its prompt.</li>
<li><strong>Mechanism</strong>:
<ul>
<li>Uses the input examples to infer the pattern.</li>
<li>Applies this pattern to new inputs.</li>
</ul></li>
<li><strong>Key Insight</strong>: Leverages the pre-trained knowledge of large language models.</li>
</ul>
</section>
<section id="hierarchy-of-techniques" class="slide level2">
<h2>Hierarchy of Techniques</h2>
<ol type="1">
<li><strong>Prompt Engineering</strong>:
<ul>
<li>Easiest to implement.</li>
<li>Iterative improvement of task instructions and examples.</li>
<li><strong>When to use</strong>: Small datasets, quick experiments.</li>
</ul></li>
<li><strong>Fine-Tuning</strong>:
<ul>
<li>Adjusts model weights for specific tasks.</li>
<li>Requires more resources (compute, labeled data).</li>
<li><strong>When to use</strong>: High accuracy demands, domain-specific tasks.</li>
</ul></li>
<li><strong>Continued Pre-Training (cPT)</strong>:
<ul>
<li>Extends the pre-training phase with domain-specific data.</li>
<li><strong>When to use</strong>: Large shifts in domain or task requirements.</li>
</ul></li>
</ol>
</section>
<section id="pros-and-cons-of-each-technique" class="slide level2">
<h2>Pros and Cons of Each Technique</h2>
<table class="caption-top" style="width:100%;">
<colgroup>
<col style="width: 20%">
<col style="width: 38%">
<col style="width: 41%">
</colgroup>
<thead>
<tr class="header">
<th>Technique</th>
<th>Pros</th>
<th>Cons</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Prompt Engineering</td>
<td>Fast, low cost, no retraining.</td>
<td>Limited accuracy, trial and error.</td>
</tr>
<tr class="even">
<td>Fine-Tuning</td>
<td>Improved task performance.</td>
<td>Requires labeled data, costly.</td>
</tr>
<tr class="odd">
<td>cPT</td>
<td>Handles major domain shifts well.</td>
<td>Expensive, needs significant data.</td>
</tr>
</tbody>
</table>
</section>
<section id="prompt-engineering-overview" class="slide level2">
<h2>Prompt Engineering Overview</h2>
<ul>
<li><strong>Zero-Shot Learning</strong>:
<ul>
<li>No examples provided.</li>
<li>Example: “Summarize the following paragraph.”</li>
</ul></li>
<li><strong>One-Shot Learning</strong>:
<ul>
<li>One example provided.</li>
<li>Example: “Translate ‘Bonjour’ to English. Example: ‘Hola -&gt; Hello’. Translate ‘Merci’.”</li>
</ul></li>
<li><strong>Few-Shot Learning</strong>:
<ul>
<li>Multiple examples provided.</li>
<li>Example: “Classify these reviews: ‘I love this movie!’ -&gt; Positive, ‘I hate this book.’ -&gt; Negative. Classify: ‘This product is amazing.’”</li>
</ul></li>
</ul>
</section>
<section id="zero-shot-learning-example" class="slide level2">
<h2>Zero-Shot Learning Example</h2>
<ul>
<li><strong>Task</strong>: Summarization.</li>
<li><strong>Prompt</strong>:
<ul>
<li>“Summarize the following text: ‘Large language models are transforming AI.’”</li>
</ul></li>
<li><strong>Models</strong>:
<ul>
<li>LLaMA3: Short and factual.</li>
<li>Claude: Polished and coherent.</li>
<li>Amazon Nova: Emphasizes conciseness.</li>
</ul></li>
</ul>
</section>
<section id="one-shot-learning-example" class="slide level2">
<h2>One-Shot Learning Example</h2>
<ul>
<li><strong>Task</strong>: Question Answering.</li>
<li><strong>Prompt</strong>:
<ul>
<li>“Question: Who developed the theory of relativity? Example: Question: Who invented the telephone? Answer: Alexander Graham Bell. Answer:”</li>
</ul></li>
<li><strong>Output</strong>:
<ul>
<li>LLaMA3: Albert Einstein.</li>
<li>Claude: Einstein.</li>
<li>Amazon Nova: Albert Einstein.</li>
</ul></li>
</ul>
</section>
<section id="few-shot-learning-example" class="slide level2">
<h2>Few-Shot Learning Example</h2>
<ul>
<li><strong>Task</strong>: SQL Generation.</li>
<li><strong>Prompt</strong>:
<ul>
<li>“Examples: Input: Find all employees hired after 2020. Output: SELECT * FROM employees WHERE hire_date &gt; ‘2020-01-01’; Input: Count the number of departments. Output: SELECT COUNT(*) FROM departments; Input: List all customers from New York.”</li>
</ul></li>
<li><strong>Output</strong>:
<ul>
<li>LLaMA3: SELECT * FROM customers WHERE city = ‘New York’;</li>
<li>Claude: SELECT name FROM customers WHERE location = ‘New York’;</li>
<li>Amazon Nova: SELECT * FROM customers WHERE city = ‘NYC’;</li>
</ul></li>
</ul>
</section>
<section id="anatomy-of-a-prompt" class="slide level2">
<h2>Anatomy of a Prompt</h2>
<ul>
<li><strong>Structure</strong>:
<ul>
<li>System Message: Defines the model’s role or behavior.</li>
<li>User Message: Specifies the task or query.</li>
<li>Assistant Message (optional): Provides context or prior responses.</li>
</ul></li>
<li><strong>Examples</strong>:
<ul>
<li>System: “You are a helpful assistant.”</li>
<li>User: “Summarize the following text: ‘Generative AI is a game changer.’”</li>
<li>Assistant: “Generative AI is transformative.”</li>
</ul></li>
<li><strong>Key Idea</strong>: Clear instructions improve response quality.</li>
</ul>
</section>
<section id="the-messages-api" class="slide level2">
<h2>The Messages API</h2>
<ul>
<li><strong>Components</strong>:
<ul>
<li><code>system</code>: Sets the model’s tone and scope.</li>
<li><code>user</code>: Contains the main prompt or task.</li>
<li><code>assistant</code>: Used for context in iterative tasks.</li>
</ul></li>
<li><strong>Flow</strong>:
<ul>
<li>Messages are passed as a sequence.</li>
<li>Each message builds upon the previous ones.</li>
</ul></li>
<li><strong>Benefits</strong>:
<ul>
<li>Enhances multi-turn interactions.</li>
<li>Allows dynamic context updates.</li>
</ul></li>
</ul>
</section>
<section id="inference-parameters" class="slide level2">
<h2>Inference parameters</h2>
<p>the Messages API allows you to interact with the model in a conversational way. You can define the role of the message and the content. The role can be either system, assistant, or user. The system role is used to provide context to the model, and the user role is used to ask questions or provide input to the model.</p>
<p>Users can get tailored responses for their use case using the following inference parameters while invoking foundation models:</p>
<ul>
<li><code>temperature</code> – Temperature is a value between 0–1, and it regulates the creativity of the model’s responses. Use a lower temperature if you want more deterministic responses, and use a higher temperature if you want more creative or different responses from the model.</li>
<li><code>top_k</code> – This is the number of most-likely candidates that the model considers for the next token. Choose a lower value to decrease the size of the pool and limit the options to more likely outputs. Choose a higher value to increase the size of the pool and allow the model to consider less likely outputs.</li>
<li><code>top_p</code> – Top-p is used to control the token choices made by the model during text generation. It works by considering only the most probable token options and ignoring the less probable ones, based on a specified probability threshold value (p). By setting the top-p value below 1.0, the model focuses on the most likely token choices, resulting in more stable and repetitive completions. This approach helps reduce the generation of unexpected or unlikely outputs, providing greater consistency and predictability in the generated text.</li>
</ul>
</section>
<section id="inference-parameters-contd." class="slide level2">
<h2>Inference parameters (contd.)</h2>
<ul>
<li><code>stop sequences</code> – This refers to the parameter to control the stopping sequence for the model’s response to a user query. For Meta-Llama models this value can either be “&lt;|start_header_id|&gt;”, “&lt;|end_header_id|&gt;”, or “&lt;|eot_id|&gt;”.</li>
</ul>
</section>
<section id="prompting-best-practices" class="slide level2">
<h2>Prompting Best Practices</h2>
<ul>
<li><strong>General Guidelines</strong>:
<ul>
<li>Be specific: “Translate this sentence” vs.&nbsp;“Translate.”</li>
<li>Avoid ambiguity: Use complete instructions.</li>
<li>Provide examples for complex tasks.</li>
</ul></li>
<li><strong>For GPT-4</strong>:
<ul>
<li>Use detailed instructions for creative tasks.</li>
<li>Include constraints like word limits or tone.</li>
</ul></li>
<li><strong>For Claude</strong>:
<ul>
<li>Prefers natural and conversational language.</li>
<li>Excels at reasoning tasks when examples are provided.</li>
</ul></li>
<li><strong>For LLaMA</strong>:
<ul>
<li>Keep prompts concise.</li>
<li>Focus on factual and structured queries.</li>
</ul></li>
</ul>
</section>
<section id="prompting-best-practices-1" class="slide level2">
<h2>Prompting Best Practices</h2>
<table class="caption-top">
<colgroup>
<col style="width: 22%">
<col style="width: 77%">
</colgroup>
<thead>
<tr class="header">
<th>Model family</th>
<th>Prompt Engineering Reference</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Amazon Nova</td>
<td>https://docs.aws.amazon.com/nova/latest/userguide/prompting.html</td>
</tr>
<tr class="even">
<td>Anthropic Claude</td>
<td>https://docs.anthropic.com/en/docs/build-with-claude/prompt-engineering/</td>
</tr>
<tr class="odd">
<td>Meta LLaMA</td>
<td>https://www.llama.com/docs/how-to-guides/prompting/</td>
</tr>
</tbody>
</table>
</section>
<section id="example-claude-messages-api-with-amazon-bedrock" class="slide level2">
<h2>Example: Claude Messages API with Amazon Bedrock</h2>
<ul>
<li><strong>Task</strong>: Summarize a document.</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href=""></a><span class="im">import</span> boto3</span>
<span id="cb1-2"><a href=""></a></span>
<span id="cb1-3"><a href=""></a><span class="co"># Initialize the Bedrock client</span></span>
<span id="cb1-4"><a href=""></a>bedrock <span class="op">=</span> boto3.client(<span class="st">'bedrock'</span>, region_name<span class="op">=</span><span class="st">'us-west-2'</span>)</span>
<span id="cb1-5"><a href=""></a></span>
<span id="cb1-6"><a href=""></a><span class="co"># Define messages in the API format</span></span>
<span id="cb1-7"><a href=""></a>messages <span class="op">=</span> [</span>
<span id="cb1-8"><a href=""></a>    {<span class="st">"role"</span>: <span class="st">"system"</span>, <span class="st">"content"</span>: <span class="st">"You are a helpful assistant."</span>},</span>
<span id="cb1-9"><a href=""></a>    {<span class="st">"role"</span>: <span class="st">"user"</span>, <span class="st">"content"</span>: <span class="st">"Summarize the following text: 'Generative AI is transforming industries by automating creative tasks.'"</span>}</span>
<span id="cb1-10"><a href=""></a>]</span>
<span id="cb1-11"><a href=""></a></span>
<span id="cb1-12"><a href=""></a><span class="co"># Call Claude via Bedrock</span></span>
<span id="cb1-13"><a href=""></a>response <span class="op">=</span> bedrock.invoke_model(</span>
<span id="cb1-14"><a href=""></a>    modelId<span class="op">=</span><span class="st">"anthropic.claude-v1"</span>,</span>
<span id="cb1-15"><a href=""></a>    body<span class="op">=</span>{<span class="st">"input"</span>: {<span class="st">"messages"</span>: messages}}</span>
<span id="cb1-16"><a href=""></a>)</span>
<span id="cb1-17"><a href=""></a></span>
<span id="cb1-18"><a href=""></a><span class="co"># Print the response</span></span>
<span id="cb1-19"><a href=""></a><span class="bu">print</span>(response[<span class="st">"output"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="advanced-example-few-shot-learning-with-claude" class="slide level2">
<h2>Advanced Example: Few-Shot Learning with Claude</h2>
<ul>
<li><strong>Task</strong>: Classify sentiment.</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href=""></a>messages <span class="op">=</span> [</span>
<span id="cb2-2"><a href=""></a>    {<span class="st">"role"</span>: <span class="st">"system"</span>, <span class="st">"content"</span>: <span class="st">"You are a helpful assistant that classifies sentiment."</span>},</span>
<span id="cb2-3"><a href=""></a>    {<span class="st">"role"</span>: <span class="st">"user"</span>, <span class="st">"content"</span>: <span class="st">"Examples:</span><span class="ch">\n</span><span class="st">Review: 'I love this product!' -&gt; Positive</span><span class="ch">\n</span><span class="st">Review: 'This is the worst service ever.' -&gt; Negative</span><span class="ch">\n</span><span class="st">Review: 'The delivery was on time.' -&gt;"</span>}</span>
<span id="cb2-4"><a href=""></a>]</span>
<span id="cb2-5"><a href=""></a></span>
<span id="cb2-6"><a href=""></a>response <span class="op">=</span> bedrock.invoke_model(</span>
<span id="cb2-7"><a href=""></a>    modelId<span class="op">=</span><span class="st">"anthropic.claude-v1"</span>,</span>
<span id="cb2-8"><a href=""></a>    body<span class="op">=</span>{<span class="st">"input"</span>: {<span class="st">"messages"</span>: messages}}</span>
<span id="cb2-9"><a href=""></a>)</span>
<span id="cb2-10"><a href=""></a></span>
<span id="cb2-11"><a href=""></a><span class="bu">print</span>(response[<span class="st">"output"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="multi-modal-in-context-learning" class="slide level2">
<h2>Multi-Modal In-Context Learning</h2>
<ul>
<li><strong>Definition</strong>: Extending ICL to handle tasks across multiple data types (text, images, audio).</li>
<li><strong>Examples</strong>:
<ul>
<li>Text-to-Image generation: Providing prompts with descriptive instructions.</li>
<li>Image Captioning: Few-shot examples pairing images with captions.</li>
</ul></li>
<li><strong>Future Applications</strong>:
<ul>
<li>Interactive assistants.</li>
<li>Cross-domain insights.</li>
</ul></li>
</ul>
</section>
<section id="prompt-engineering---examples" class="slide level2">
<h2>Prompt engineering - examples</h2>
<p>Text to SQL prompt with Meta-LLaMA3</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href=""></a><span class="ex">messages</span> = [</span>
<span id="cb3-2"><a href=""></a><span class="kw">{</span></span>
<span id="cb3-3"><a href=""></a>  <span class="st">"role"</span><span class="ex">:</span> <span class="st">"system"</span>,</span>
<span id="cb3-4"><a href=""></a>  <span class="st">"content"</span><span class="ex">:</span></span>
<span id="cb3-5"><a href=""></a>    <span class="st">"""You are a mysql query expert whose output is a valid sql query.</span></span>
<span id="cb3-6"><a href=""></a><span class="st">       Only use the following tables:</span></span>
<span id="cb3-7"><a href=""></a><span class="st">       It has the following schemas:</span></span>
<span id="cb3-8"><a href=""></a><span class="st">       &lt;table_schemas&gt;</span></span>
<span id="cb3-9"><a href=""></a><span class="st">       {table_schemas}</span></span>
<span id="cb3-10"><a href=""></a><span class="st">       &lt;table_schemas&gt;</span></span>
<span id="cb3-11"><a href=""></a><span class="st">       Always combine the database name and table name to build your queries. You must identify these two values before proving a valid SQL query.</span></span>
<span id="cb3-12"><a href=""></a><span class="st">       Please construct a valid SQL statement to answer the following the question, return only the mysql query in between &lt;sql&gt;&lt;/sql&gt;.</span></span>
<span id="cb3-13"><a href=""></a><span class="st">    """</span></span>
<span id="cb3-14"><a href=""></a><span class="ex">},</span></span>
<span id="cb3-15"><a href=""></a><span class="kw">{</span></span>
<span id="cb3-16"><a href=""></a>  <span class="st">"role"</span><span class="ex">:</span> <span class="st">"user"</span>,</span>
<span id="cb3-17"><a href=""></a>  <span class="st">"content"</span><span class="ex">:</span> <span class="st">"{question}"</span></span>
<span id="cb3-18"><a href=""></a><span class="ex">}]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="prompt-engineering---examples---few-shot-prompting" class="slide level2">
<h2>Prompt engineering - examples - Few-shot prompting</h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href=""></a><span class="ex">Extract</span> the relevant information from the following parahrapgh and present it in a JSON format.</span>
<span id="cb4-2"><a href=""></a></span>
<span id="cb4-3"><a href=""></a><span class="ex">Michael</span> Doe, a 45-year-old teacher from Boston, Massachusetts, is an avid reader and enjoys gardening during his spare time.</span>
<span id="cb4-4"><a href=""></a><span class="ex">Example</span> 1:</span>
<span id="cb4-5"><a href=""></a><span class="ex">Paragraph:</span> <span class="st">"John Doe is a 32-year-old software engineer from San Francisco, California. He enjoys hiking and playing guitar in his free time."</span></span>
<span id="cb4-6"><a href=""></a><span class="st">"employee"</span><span class="ex">:</span> {</span>
<span id="cb4-7"><a href=""></a>    <span class="st">"fullname"</span><span class="ex">:</span> <span class="st">"John Doe"</span>,</span>
<span id="cb4-8"><a href=""></a>    <span class="st">"city"</span><span class="ex">:</span> <span class="st">"San Francisco"</span>,</span>
<span id="cb4-9"><a href=""></a>    <span class="st">"state"</span><span class="ex">:</span> <span class="st">"California"</span>,</span>
<span id="cb4-10"><a href=""></a>    <span class="st">"occupation"</span><span class="ex">:</span> <span class="st">"software engineer"</span>,</span>
<span id="cb4-11"><a href=""></a>    <span class="st">"hobbies"</span><span class="ex">:</span> [<span class="st">"hiking"</span>, <span class="st">"playing guitar"</span>],</span>
<span id="cb4-12"><a href=""></a>    <span class="st">"recentTravel"</span><span class="ex">:</span> <span class="st">"not provided"</span></span>
<span id="cb4-13"><a href=""></a><span class="er">}</span><span class="ex">,</span></span>
<span id="cb4-14"><a href=""></a><span class="ex">Example</span> 2:</span>
<span id="cb4-15"><a href=""></a><span class="ex">Paragraph:</span> <span class="st">"Emily Jax, a 27-year-old marketing manager from New York City, loves traveling and trying new cuisines. She recently visited Paris and enjoyed the city's rich cultural heritage."</span></span>
<span id="cb4-16"><a href=""></a><span class="st">"employee"</span><span class="ex">:</span> {</span>
<span id="cb4-17"><a href=""></a>    <span class="st">"fullname"</span><span class="ex">:</span> <span class="st">"Emily Jax"</span>,</span>
<span id="cb4-18"><a href=""></a>    <span class="st">"city"</span><span class="ex">:</span> <span class="st">"New York City"</span>,</span>
<span id="cb4-19"><a href=""></a>    <span class="st">"state"</span><span class="ex">:</span> <span class="st">"New York"</span>,</span>
<span id="cb4-20"><a href=""></a>    <span class="st">"occupation"</span><span class="ex">:</span> <span class="st">"marketing manager"</span>,</span>
<span id="cb4-21"><a href=""></a>    <span class="st">"hobbies"</span><span class="ex">:</span> [<span class="st">"traveling"</span>, <span class="st">"trying new cuisines"</span>],</span>
<span id="cb4-22"><a href=""></a>    <span class="st">"recentTravel"</span><span class="ex">:</span> <span class="st">"Paris"</span></span>
<span id="cb4-23"><a href=""></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This produces the following output</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource bashrc number-lines code-with-copy"><code class="sourceCode"><span id="cb5-1"><a href=""></a>{</span>
<span id="cb5-2"><a href=""></a>  "employee": {</span>
<span id="cb5-3"><a href=""></a>    "fullname": "Michael Doe",</span>
<span id="cb5-4"><a href=""></a>    "city": "Boston",</span>
<span id="cb5-5"><a href=""></a>    "state": "Massachusetts",</span>
<span id="cb5-6"><a href=""></a>    "occupation": "teacher",</span>
<span id="cb5-7"><a href=""></a>    "hobbies": [ "reading", "gardening"],</span>
<span id="cb5-8"><a href=""></a>    "recentTravel": "not provided"</span>
<span id="cb5-9"><a href=""></a>  }</span>
<span id="cb5-10"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="prompt-engineering---examples---task-decomposition" class="slide level2">
<h2>Prompt engineering - examples - Task decomposition</h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource bashrc number-lines code-with-copy"><code class="sourceCode"><span id="cb6-1"><a href=""></a></span>
<span id="cb6-2"><a href=""></a>Break down the task of planning a vacation into smaller, manageable steps.</span>
<span id="cb6-3"><a href=""></a>1. Choose a destination.</span>
<span id="cb6-4"><a href=""></a>2. Set a budget.</span>
<span id="cb6-5"><a href=""></a>3. Research accommodations.</span>
<span id="cb6-6"><a href=""></a>4. Plan activities.</span>
<span id="cb6-7"><a href=""></a>5. Book flights and accommodations.</span>
<span id="cb6-8"><a href=""></a>6. Pack and prepare for the trip.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="prompt-engineering---examples---chain-of-thought" class="slide level2">
<h2>Prompt engineering - examples - Chain of Thought</h2>
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource bashrc number-lines code-with-copy"><code class="sourceCode"><span id="cb7-1"><a href=""></a>Solve the following math problem step by step.</span>
<span id="cb7-2"><a href=""></a></span>
<span id="cb7-3"><a href=""></a>If you have 10 apples and you give 3 apples to your friend,</span>
<span id="cb7-4"><a href=""></a>then buy 5 more apples, and finally eat 2 apples, </span>
<span id="cb7-5"><a href=""></a>how many apples do you have left?</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="references-and-further-reading" class="slide level2">
<h2>References and Further Reading</h2>
<ul>
<li><strong>Code samples</strong>:
<ul>
<li>https://github.com/NirDiamant/Prompt_Engineering/tree/main</li>
</ul></li>
<li><strong>Important Papers</strong>:
<ul>
<li>Brown et al.&nbsp;(2020). “Language Models are Few-Shot Learners.” [<a href="https://arxiv.org/pdf/2005.14165">GPT-3 Paper</a>]</li>
<li>Wei et al.&nbsp;(2022). “Chain of Thought Prompting Elicits Reasoning in Large Language Models.” <a href="https://arxiv.org/pdf/2201.11903">link</a></li>
<li>Min et al.&nbsp;(2022). “Rethinking the Role of Demonstrations: What Makes In-Context Learning Work?” <a href="https://arxiv.org/pdf/2202.12837">link</a></li>
</ul></li>
<li><strong>Comparison Studies</strong>:
<ul>
<li>Fine-Tuning vs.&nbsp;In-Context Learning vs.&nbsp;cPT: “Prompting vs.&nbsp;Tuning: Which Approach Works Better for LLMs?” <a href="https://www.reddit.com/r/LocalLLaMA/comments/152s9ei/when_is_it_best_to_use_prompt_engineering_vs/">Reddit thread</a></li>
<li>Touvron et al.&nbsp;(2023). “LLaMA: Open and Efficient Foundation Language Models.” <a href="https://arxiv.org/pdf/2302.13971">link</a></li>
<li>Ruoss, Pardo et al (2024) “LMAct: A Benchmark for In-Context Imitation Learning with Long Multimodal Demonstrations” <a href="https://arxiv.org/html/2412.01441v1">link</a></li>
</ul></li>
</ul>

</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="week-02-icl_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="week-02-icl_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="week-02-icl_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="week-02-icl_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="week-02-icl_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="week-02-icl_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="week-02-icl_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="week-02-icl_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="week-02-icl_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="week-02-icl_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'print',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>